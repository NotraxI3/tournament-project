â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                          â•‘
â•‘     ğŸ§ INSTALLATION SERVEUR LINUX UBUNTU - MARIADB + PHPMYADMIN ğŸ§      â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“‹ TABLE DES MATIÃˆRES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. PrÃ©requis
2. Installation de la pile LAMP (Linux, Apache, MariaDB, PHP)
3. Installation et configuration de phpMyAdmin
4. Configuration d'Apache
5. Configuration de MariaDB
6. Installation du projet
7. Configuration de la base de donnÃ©es via phpMyAdmin
8. Configuration de l'application
9. Tests et vÃ©rifications
10. SÃ©curitÃ©
11. Maintenance et sauvegardes
12. DÃ©pannage
13. Commandes utiles


1ï¸âƒ£ PRÃ‰REQUIS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ Ubuntu 20.04 LTS ou supÃ©rieur
âœ“ AccÃ¨s root ou sudo
âœ“ Connexion Internet
âœ“ Au moins 2 Go de RAM
âœ“ 10 Go d'espace disque libre


2ï¸âƒ£ INSTALLATION DE LA PILE LAMP
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 2.1 : Mise Ã  jour du systÃ¨me
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo apt update
sudo apt upgrade -y


Ã‰tape 2.2 : Installation d'Apache
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo apt install apache2 -y
sudo systemctl start apache2
sudo systemctl enable apache2
sudo systemctl enable apache2

# Tester : http://localhost ou http://IP-SERVEUR


Ã‰tape 2.3 : Installation de MariaDB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo apt install mariadb-server mariadb-client -y
sudo systemctl start mariadb
sudo systemctl enable mariadb
sudo systemctl status mariadb

# SÃ©curiser MariaDB
sudo mysql_secure_installation

RÃ©ponses :
- Enter current password â†’ [EntrÃ©e]
- Switch to unix_socket â†’ N
- Change root password â†’ Y
- New password â†’ [VotreMotDePasseRoot]
- Remove anonymous users â†’ Y
- Disallow root login remotely â†’ Y
- Remove test database â†’ Y
- Reload privilege tables â†’ Y


Ã‰tape 2.4 : Installation de PHP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo apt install php libapache2-mod-php php-mysql php-cli php-curl php-json php-mbstring php-xml php-zip php-gd -y

php -v

# Configurer Apache pour PHP
sudo nano /etc/apache2/mods-enabled/dir.conf

# Mettre index.php en premier :
DirectoryIndex index.php index.html index.cgi index.pl index.xhtml index.htm

# Ctrl+O, Enter, Ctrl+X

sudo systemctl restart apache2


3ï¸âƒ£ INSTALLATION DE PHPMYADMIN
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 3.1 : Installer phpMyAdmin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo apt install phpmyadmin -y

Pendant l'installation :
1. Serveur web â†’ [Espace] sur apache2, puis [EntrÃ©e]
2. Configurer avec dbconfig-common â†’ Oui
3. Mot de passe phpMyAdmin â†’ [MotDePasseSÃ©curisÃ©]


Ã‰tape 3.2 : Activer phpMyAdmin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo phpenmod mbstring
sudo systemctl restart apache2

# Tester : http://localhost/phpmyadmin ou http://IP-SERVEUR/phpmyadmin


Ã‰tape 3.3 : Configurer root pour phpMyAdmin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo mysql -u root -p

# Dans MariaDB :
ALTER USER 'root'@'localhost' IDENTIFIED BY 'VotreMotDePasseRoot123!';
FLUSH PRIVILEGES;
EXIT;

# Se connecter sur phpMyAdmin :
# Utilisateur : root
# Mot de passe : VotreMotDePasseRoot123!


Ã‰tape 3.4 : CrÃ©er un utilisateur admin (RECOMMANDÃ‰)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo mysql -u root -p

CREATE USER 'admin'@'localhost' IDENTIFIED BY 'MotDePasseAdmin123!';
GRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;
EXIT;

# Se connecter sur phpMyAdmin avec :
# Utilisateur : admin
# Mot de passe : MotDePasseAdmin123!


4ï¸âƒ£ CONFIGURATION D'APACHE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 4.1 : Activer les modules
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo a2enmod rewrite
sudo a2enmod headers
sudo systemctl restart apache2


Ã‰tape 4.2 : Permissions
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo usermod -a -G www-data $USER
sudo chown -R www-data:www-data /var/www/html
sudo chmod -R 755 /var/www/html


5ï¸âƒ£ CONFIGURATION DE MARIADB
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 5.1 : CrÃ©er l'utilisateur et la base pour le projet
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo mysql -u root -p

# OU via phpMyAdmin (onglet SQL) :

CREATE USER 'tournament_user'@'localhost' IDENTIFIED BY 'MotDePasseSecurise123!';
CREATE DATABASE tournament_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
GRANT ALL PRIVILEGES ON tournament_db.* TO 'tournament_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;


Ã‰tape 5.2 : VÃ©rifier dans phpMyAdmin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Se connecter avec tournament_user
2. La base tournament_db doit Ãªtre visible


6ï¸âƒ£ INSTALLATION DU PROJET
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 6.1 : TransfÃ©rer les fichiers
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

MÃ©thode A : SCP depuis Mac/Windows
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Sur votre Mac :
scp -r ~/Desktop/tournament-project utilisateur@IP-SERVEUR:/tmp/

# Sur le serveur :
sudo mv /tmp/tournament-project /var/www/html/


MÃ©thode B : Git
~~~~~~~~~~~~~~~
cd /var/www/html
sudo git clone https://github.com/notraxi3/tournament-project.git


MÃ©thode C : FileZilla/WinSCP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1. Connecter via SFTP Ã  votre serveur
2. Uploader le dossier tournament-project dans /var/www/html/


Ã‰tape 6.2 : Permissions
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo chown -R www-data:www-data /var/www/html/tournament-project
sudo find /var/www/html/tournament-project -type d -exec chmod 755 {} \;
sudo find /var/www/html/tournament-project -type f -exec chmod 644 {} \;


7ï¸âƒ£ CONFIGURATION BASE DE DONNÃ‰ES VIA PHPMYADMIN
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 7.1 : Importer le schÃ©ma (MÃ‰THODE GRAPHIQUE)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Ouvrir phpMyAdmin : http://IP-SERVEUR/phpmyadmin

2. Se connecter avec :
   - Utilisateur : tournament_user
   - Mot de passe : MotDePasseSecurise123!

3. Cliquer sur "tournament_db" dans le menu de gauche

4. Cliquer sur l'onglet "Importer" en haut

5. Section "Fichier Ã  importer" :
   - Cliquer sur "Choisir un fichier"
   - SÃ©lectionner : tournament_db.sql
     (depuis /var/www/html/tournament-project/database/)

6. Options :
   - Format : SQL
   - Laisser les autres options par dÃ©faut

7. Cliquer sur "ExÃ©cuter" en bas

8. Message de succÃ¨s : "Importation rÃ©ussie, X requÃªtes exÃ©cutÃ©es"


Ã‰tape 7.2 : VÃ©rifier l'importation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Dans phpMyAdmin :

1. Cliquer sur "tournament_db" â†’ "Structure"

2. Vous devez voir 4 tables :
   âœ“ tournaments
   âœ“ participants
   âœ“ pools
   âœ“ pool_participants

3. Cliquer sur "tournaments" â†’ icÃ´ne "Afficher"
   â†’ 4 tournois : Fortnite, Mario Kart, Smash Bros, FC 26

4. Cliquer sur "participants" â†’ icÃ´ne "Afficher"
   â†’ 15 participants avec leurs statuts


Ã‰tape 7.3 : Tester des requÃªtes SQL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Dans phpMyAdmin, onglet "SQL" :

# Compter les participants
SELECT COUNT(*) as total FROM participants;

# Voir les tournois
SELECT * FROM tournaments;

# Statistiques par tournoi
SELECT 
    t.name,
    COUNT(p.id) as participants,
    SUM(CASE WHEN p.status = 'En lice' THEN 1 ELSE 0 END) as en_lice
FROM tournaments t
LEFT JOIN participants p ON t.id = p.tournament_id
GROUP BY t.id, t.name;


8ï¸âƒ£ CONFIGURATION DE L'APPLICATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 8.1 : Configurer database.php
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo nano /var/www/html/tournament-project/backend/config/database.php

Contenu :
<?php
class Database {
    private $host = 'localhost';
    private $db_name = 'tournament_db';
    private $username = 'tournament_user';
    private $password = 'MotDePasseSecurise123!';
    private $charset = 'utf8mb4';
    public $conn = null;

    public function getConnection() {
        try {
            $dsn = "mysql:host=" . $this->host . ";dbname=" . $this->db_name . ";charset=" . $this->charset;
            $this->conn = new PDO($dsn, $this->username, $this->password);
            $this->conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
            return $this->conn;
        } catch(PDOException $exception) {
            echo "Erreur de connexion: " . $exception->getMessage();
            return null;
        }
    }
}
?>

# Ctrl+O, Enter, Ctrl+X


Ã‰tape 8.2 : Configurer l'URL de l'API
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo nano /var/www/html/tournament-project/frontend/tournament-dashboard.html

# Chercher (ligne ~15) :
const API_BASE_URL = 'http://localhost/tournament-project/backend/api';

# Modifier selon votre IP :
const API_BASE_URL = 'http://192.168.1.100/tournament-project/backend/api';

# OU avec nom de domaine :
const API_BASE_URL = 'http://votre-domaine.com/backend/api';

# Ctrl+O, Enter, Ctrl+X


Ã‰tape 8.3 : CrÃ©er/VÃ©rifier .htaccess
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo nano /var/www/html/tournament-project/backend/api/.htaccess

Contenu :
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [QSA,L]

Header set Access-Control-Allow-Origin "*"
Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header set Access-Control-Allow-Headers "Content-Type, Authorization"

AddDefaultCharset UTF-8

# Ctrl+O, Enter, Ctrl+X


9ï¸âƒ£ TESTS ET VÃ‰RIFICATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 9.1 : Tester MariaDB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

mysql -u tournament_user -p tournament_db -e "SELECT COUNT(*) FROM participants;"

# Doit afficher : 15


Ã‰tape 9.2 : Tester l'API
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

curl http://localhost/tournament-project/backend/api/index.php/tournaments

# Doit retourner du JSON avec les 4 tournois

curl http://localhost/tournament-project/backend/api/index.php/stats

# Doit retourner les statistiques


Ã‰tape 9.3 : Tester l'interface web
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Navigateur : http://IP-SERVEUR/tournament-project/frontend/tournament-dashboard.html

âœ… Doit afficher :
- 4 cartes de tournois
- Statistiques (Total, En lice, Ã‰liminÃ©s)
- 2 graphiques


Ã‰tape 9.4 : Test complet des fonctionnalitÃ©s
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Cliquer sur un tournoi â†’ Liste participants
2. Ajouter un participant â†’ S'inscrit en BDD
3. VÃ©rifier dans phpMyAdmin â†’ Le nouveau joueur apparaÃ®t
4. Modifier statut â†’ Mise Ã  jour en BDD
5. CrÃ©er poules (4+ joueurs) â†’ Poules gÃ©nÃ©rÃ©es


ğŸ”Ÿ SÃ‰CURITÃ‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 10.1 : SÃ©curiser phpMyAdmin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Changer l'URL d'accÃ¨s
sudo nano /etc/apache2/conf-available/phpmyadmin.conf

# Ajouter aprÃ¨s la ligne "Alias /phpmyadmin" :
Alias /admin-secret-2024 /usr/share/phpmyadmin

# Commenter la ligne originale :
# Alias /phpmyadmin /usr/share/phpmyadmin

sudo systemctl restart apache2

# Nouvelle URL : http://IP-SERVEUR/admin-secret-2024


# Ajouter authentification .htaccess
sudo nano /usr/share/phpmyadmin/.htaccess

Contenu :
AuthType Basic
AuthName "Zone d'administration"
AuthUserFile /etc/phpmyadmin/.htpasswd
Require valid-user

sudo htpasswd -c /etc/phpmyadmin/.htpasswd adminpma
# Entrer un mot de passe

sudo nano /etc/apache2/conf-available/phpmyadmin.conf

# Dans <Directory /usr/share/phpmyadmin> :
AllowOverride All

sudo systemctl restart apache2


Ã‰tape 10.2 : Pare-feu UFW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo apt install ufw -y
sudo ufw allow ssh
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable
sudo ufw status


Ã‰tape 10.3 : SÃ©curiser MariaDB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf

# S'assurer de :
bind-address = 127.0.0.1

sudo systemctl restart mariadb


Ã‰tape 10.4 : ProtÃ©ger les dossiers sensibles
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo nano /var/www/html/tournament-project/backend/config/.htaccess

Contenu :
Order deny,allow
Deny from all

sudo nano /var/www/html/tournament-project/backend/classes/.htaccess

Contenu :
Order deny,allow
Deny from all


1ï¸âƒ£1ï¸âƒ£ MAINTENANCE ET SAUVEGARDES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 11.1 : Sauvegarde manuelle via phpMyAdmin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. phpMyAdmin â†’ tournament_db
2. Onglet "Exporter"
3. MÃ©thode : Rapide
4. Format : SQL
5. Cliquer "ExÃ©cuter"
6. Fichier tÃ©lÃ©chargÃ© : tournament_db.sql


Ã‰tape 11.2 : Sauvegarde automatique
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo nano /usr/local/bin/backup-tournament.sh

#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/var/backups/tournament"
DB_NAME="tournament_db"
DB_USER="tournament_user"
DB_PASS="MotDePasseSecurise123!"

mkdir -p $BACKUP_DIR

mysqldump -u $DB_USER -p$DB_PASS $DB_NAME > $BACKUP_DIR/db_$DATE.sql
tar -czf $BACKUP_DIR/files_$DATE.tar.gz /var/www/html/tournament-project

find $BACKUP_DIR -name "db_*.sql" -mtime +7 -delete
find $BACKUP_DIR -name "files_*.tar.gz" -mtime +7 -delete

echo "Sauvegarde : $DATE"

sudo chmod +x /usr/local/bin/backup-tournament.sh
sudo /usr/local/bin/backup-tournament.sh

# Planifier avec cron
sudo crontab -e

# Ajouter :
0 2 * * * /usr/local/bin/backup-tournament.sh >> /var/log/backup-tournament.log 2>&1


Ã‰tape 11.3 : Restaurer une sauvegarde
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Via phpMyAdmin :
1. tournament_db â†’ Importer
2. Choisir le fichier .sql
3. ExÃ©cuter

Via ligne de commande :
mysql -u tournament_user -p tournament_db < backup.sql


1ï¸âƒ£2ï¸âƒ£ DÃ‰PANNAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ProblÃ¨me 1 : phpMyAdmin ne s'affiche pas
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf
sudo a2enconf phpmyadmin
sudo systemctl restart apache2


ProblÃ¨me 2 : Erreur "Connexion refusÃ©e" MariaDB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo systemctl status mariadb
sudo systemctl start mariadb
sudo tail -f /var/log/mysql/error.log


ProblÃ¨me 3 : API retourne 500
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sudo tail -50 /var/log/apache2/tournament_error.log
sudo chown -R www-data:www-data /var/www/html/tournament-project


ProblÃ¨me 4 : DonnÃ©es ne s'affichent pas
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# VÃ©rifier l'URL de l'API dans le HTML
# Ouvrir F12 â†’ Console dans le navigateur
# Tester l'API directement


1ï¸âƒ£3ï¸âƒ£ COMMANDES UTILES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Services :
sudo systemctl start/stop/restart/status apache2
sudo systemctl start/stop/restart/status mariadb

Logs :
sudo tail -f /var/log/apache2/error.log
sudo tail -f /var/log/mysql/error.log

MariaDB :
mysql -u tournament_user -p tournament_db
mysqldump -u tournament_user -p tournament_db > backup.sql
mysql -u tournament_user -p tournament_db < backup.sql

Permissions :
sudo chown -R www-data:www-data /var/www/html/tournament-project
sudo chmod -R 755 /var/www/html/tournament-project

RÃ©seau :
ip addr show
sudo ufw status
sudo netstat -tulpn


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CHECKLIST FINALE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[ ] Ubuntu Ã  jour
[ ] Apache installÃ© et dÃ©marrÃ©
[ ] MariaDB installÃ© et dÃ©marrÃ©
[ ] PHP installÃ© (7.4+)
[ ] phpMyAdmin accessible
[ ] Base tournament_db crÃ©Ã©e
[ ] Tables importÃ©es (4 tables, 15+ enregistrements)
[ ] Utilisateur tournament_user crÃ©Ã©
[ ] Fichiers projet copiÃ©s
[ ] Permissions correctes (www-data)
[ ] database.php configurÃ©
[ ] URL API configurÃ©e dans HTML
[ ] API testÃ©e (retourne JSON)
[ ] Interface web accessible
[ ] FonctionnalitÃ©s testÃ©es
[ ] Pare-feu configurÃ©
[ ] Sauvegardes planifiÃ©es

âœ… Tout cochÃ© ? Application prÃªte !


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ ACCÃˆS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Interface :
http://IP-SERVEUR/tournament-project/frontend/tournament-dashboard.html

API :
http://IP-SERVEUR/tournament-project/backend/api/index.php

phpMyAdmin :
http://IP-SERVEUR/phpmyadmin
OU
http://IP-SERVEUR/admin-secret-2024 (si sÃ©curisÃ©)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Version : 1.0.0 - MariaDB Edition
TestÃ© sur : Ubuntu 20.04 LTS, 22.04 LTS
Date : 2024

ğŸ§ BON DÃ‰PLOIEMENT ! ğŸ®ğŸ†

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
